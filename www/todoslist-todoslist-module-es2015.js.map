{"version":3,"sources":["./src/app/todoslist/todoslist.page.html","./src/app/todoslist/todoslist-routing.module.ts","./src/app/todoslist/todoslist.module.ts","./src/app/todoslist/todoslist.page.scss","./src/app/todoslist/todoslist.page.ts"],"names":[],"mappings":"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","file":"todoslist-todoslist-module-es2015.js","sourcesContent":["module.exports = \"<app-header [title]=\\\"this.listTitle\\\"></app-header>\\n\\n<ion-content fullscreen>\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let todo of todos\\\">\\n      <ion-item>\\n        <ion-checkbox slot=\\\"start\\\" checked=\\\"{{todo.isDone}}\\\" [disabled]=\\\"canAddTodo()?false:true\\\" (click)=\\\"update(todo)\\\"></ion-checkbox>\\n        <ion-label>\\n          <h2>{{ todo.title }}</h2>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"delete(todo)\\\">\\n          <ion-icon slot=\\\"top\\\" name=\\\"trash\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n  <section>\\n  <ion-button expand=\\\"block\\\" [routerLink]=\\\"['/addtodo']\\\" *ngIf=\\\"canAddTodo()\\\">Add a New Todo</ion-button>\\n  <ion-button expand=\\\"block\\\" (click)=\\\"openContributorManager()\\\" *ngIf=\\\"isOwner()\\\">Manage contributor</ion-button>\\n  <!-- <ion-button expand=\\\"block\\\" (click)=\\\"getTitle()\\\">DEBUG</ion-button> -->\\n  </section>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TodoslistPage } from './todoslist.page';\nimport { ContributorManagerPageModule } from '../contributor-manager/contributor-manager.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodoslistPage\n  },\n  {\n    path: ':param',\n    component: TodoslistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes), ContributorManagerPageModule],\n  exports: [RouterModule],\n})\nexport class TodoslistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TodoslistPageRoutingModule } from './todoslist-routing.module';\n\nimport { TodoslistPage } from './todoslist.page';\nimport { HeaderModule } from '../small-components/header/header.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TodoslistPageRoutingModule,\n    HeaderModule\n  ],\n  declarations: [TodoslistPage]\n})\nexport class TodoslistPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zbGlzdC90b2Rvc2xpc3QucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Todo, List } from '../model/todo';\nimport { TodoslistService } from '../services/todoslist.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { ContributorManagerPage } from '../contributor-manager/contributor-manager.page';\nimport { CollecList } from '../services/collec-list.service';\nimport { AuthService } from '../services/authentification.service';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Component({\n  selector: 'app-todoslist',\n  templateUrl: './todoslist.page.html',\n  styleUrls: ['./todoslist.page.scss'],\n})\nexport class TodoslistPage implements OnInit {\n\n  private listID: string;\n  private listTitle: string;\n  private listOwner: string;\n  private listReaderID: Array<String>;\n  private listWriterID: Array<String>;\n  private isWriter: boolean;\n  private isReader: boolean;\n\n  private obsList: Observable<List>;\n\n  private todos: Array<Todo>;\n\n  constructor(private listService: TodoslistService,private authServ : AuthService, private route: ActivatedRoute, private contributorManagerController: ModalController) {}\n\n  // TODO : Idea, here prepare the TodoslistService by sending it the LIST ID with a function that set it up\n  ngOnInit(): void {\n    this.listID = this.route.snapshot.paramMap.get('param');\n    this.listService.setUp(this.listID); // ESSENTIEL (Go voir les sources)\n    this.listService.getListDoc().subscribe(res => { // Find a way to remove err message\n      this.listTitle = res.title;\n      this.listOwner = res.ownerID;\n      this.isWriter = res.writerIDS.indexOf(this.authServ.getUserID()) !== -1;\n      this.isReader = res.readerIDS.indexOf(this.authServ.getUserID()) !== -1;\n    });\n    this.listService.get(this.listID).subscribe(res => this.todos = res);\n  }\n\n  delete(todo: Todo){\n    this.listService.delete(this.listID, todo);\n  }\n\n  update(todo: Todo){\n    this.listService.update(todo);\n  }\n\n  debug(){\n    // console.log(this.listService.getListTitle());\n  }\n\n  canAddTodo(){\n    return this.isOwner() || (this.isWriter);\n  }\n\n  isOwner(){\n    return this.authServ.getUserID() == this.listOwner;\n  }\n\n  async openContributorManager(){\n    const modal = await this.contributorManagerController.create({\n      component: ContributorManagerPage\n    });\n    return await modal.present();\n  }\n}\n"],"sourceRoot":""}