{"version":3,"sources":["./src/app/small-components/header/header.component.html","./src/app/todoslist/todoslist.page.html","./src/app/small-components/header/header.component.scss","./src/app/small-components/header/header.component.ts","./src/app/small-components/header/header.module.ts","./src/app/todoslist/todoslist-routing.module.ts","./src/app/todoslist/todoslist.module.ts","./src/app/todoslist/todoslist.page.scss","./src/app/todoslist/todoslist.page.ts"],"names":[],"mappings":"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","file":"todoslist-todoslist-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\" *ngIf=\\\"canGoBack\\\">\\n      <ion-button (click)=\\\"previousPage()\\\"><ion-icon name=\\\"arrow-dropleft\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title *ngIf=\\\"pc\\\">\\n      {{this.title}}\\n    </ion-title>\\n    <ion-title *ngIf=\\\"!pc\\\" size=\\\"small\\\">\\n      {{this.title}}\\n    </ion-title>\\n    <!-- <ion-buttons *ngIf=\\\"connected\\\">\\n      <ion-button (click)=\\\"this.reload()\\\">Refresh</ion-button>\\n    </ion-buttons> -->\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"connected\\\">\\n      {{this.userName}}\\n      <ion-button fill=\\\"solid\\\" color=\\\"primary\\\" (click)=\\\"this.logout()\\\"><ion-icon name=\\\"log-out\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!connected\\\">\\n      <ion-button fill=\\\"solid\\\" color=\\\"primary\\\" (click)=\\\"this.router.navigate(['/login'])\\\">Login</ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\"","module.exports = \"<app-header [title]=\\\"this.listTitle\\\"></app-header>\\n\\n<ion-content fullscreen>\\n  <ion-list>\\n    <ion-item-sliding *ngFor=\\\"let todo of todos\\\">\\n      <ion-item>\\n        <ion-checkbox slot=\\\"start\\\" checked=\\\"{{todo.isDone}}\\\" [disabled]=\\\"canAddTodo()?false:true\\\" (click)=\\\"update(todo)\\\"></ion-checkbox>\\n        <ion-label>\\n          <h2>{{ todo.title }}</h2>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"delete(todo)\\\">\\n          <ion-icon slot=\\\"top\\\" name=\\\"trash\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n  <section>\\n  <ion-button expand=\\\"block\\\" [routerLink]=\\\"['/addtodo']\\\" *ngIf=\\\"canAddTodo()\\\">Add a New Todo</ion-button>\\n  <ion-button expand=\\\"block\\\" (click)=\\\"openContributorManager()\\\" *ngIf=\\\"isOwner()\\\">Manage contributor</ion-button>\\n  <!-- <ion-button expand=\\\"block\\\" (click)=\\\"getTitle()\\\">DEBUG</ion-button> -->\\n  </section>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NtYWxsLWNvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { AuthService } from 'src/app/services/authentification.service';\nimport { Router } from '@angular/router';\nimport { Platform } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n})\nexport class HeaderComponent implements OnInit {\n\n  @Input() title: String;\n\n  connected: boolean;\n  userName: String;\n\n  canGoBack: boolean;\n\n  pc: boolean;\n\n  constructor(private authServ : AuthService, private router: Router, private platform: Platform, private location: Location) {\n  }\n\n  ngOnInit() {\n    this.pc = this.platform.is(\"desktop\");\n    this.authServ.getLoggedInName.subscribe(event => {this.userName = event});\n    this.connected = this.authServ.isConnected();\n    this.userName = this.authServ.getUsername();\n    if(this.router.url !== '/listslist' && this.router.url !== '/login')\n      this.canGoBack = true;\n    else\n      this.canGoBack = false;\n  }\n\n  previousPage(){\n    this.location.back();\n  }\n\n  logout(){\n    this.authServ.logout();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderComponent } from './header.component';\n\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\n\n@NgModule({\n  declarations: [HeaderComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  exports: [\n    HeaderComponent\n  ]\n})\nexport class HeaderModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TodoslistPage } from './todoslist.page';\nimport { ContributorManagerPageModule } from '../contributor-manager/contributor-manager.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TodoslistPage\n  },\n  {\n    path: ':param',\n    component: TodoslistPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes), ContributorManagerPageModule],\n  exports: [RouterModule],\n})\nexport class TodoslistPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TodoslistPageRoutingModule } from './todoslist-routing.module';\n\nimport { TodoslistPage } from './todoslist.page';\nimport { HeaderModule } from '../small-components/header/header.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TodoslistPageRoutingModule,\n    HeaderModule\n  ],\n  declarations: [TodoslistPage]\n})\nexport class TodoslistPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RvZG9zbGlzdC90b2Rvc2xpc3QucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Todo, List } from '../model/todo';\nimport { TodoslistService } from '../services/todoslist.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { ModalController } from '@ionic/angular';\nimport { ContributorManagerPage } from '../contributor-manager/contributor-manager.page';\nimport { CollecList } from '../services/collec-list.service';\nimport { AuthService } from '../services/authentification.service';\nimport { Observable } from 'rxjs/internal/Observable';\n\n@Component({\n  selector: 'app-todoslist',\n  templateUrl: './todoslist.page.html',\n  styleUrls: ['./todoslist.page.scss'],\n})\nexport class TodoslistPage implements OnInit {\n\n  private listID: string;\n  private listTitle: string;\n  private listOwner: string;\n  private listReaderID: Array<String>;\n  private listWriterID: Array<String>;\n  private isWriter: boolean;\n  private isReader: boolean;\n\n  private obsList: Observable<List>;\n\n  private todos: Array<Todo>;\n\n  constructor(private listService: TodoslistService,private authServ : AuthService, private route: ActivatedRoute, private contributorManagerController: ModalController) {}\n\n  // TODO : Idea, here prepare the TodoslistService by sending it the LIST ID with a function that set it up\n  ngOnInit(): void {\n    this.listID = this.route.snapshot.paramMap.get('param');\n    this.listService.setUp(this.listID); // ESSENTIEL (Go voir les sources)\n    this.listService.getListDoc().subscribe(res => { // Find a way to remove err message\n      this.listTitle = res.title;\n      this.listOwner = res.ownerID;\n      this.isWriter = res.writerIDS.indexOf(this.authServ.getUserID()) !== -1;\n      this.isReader = res.readerIDS.indexOf(this.authServ.getUserID()) !== -1;\n    });\n    this.listService.get(this.listID).subscribe(res => this.todos = res);\n  }\n\n  delete(todo: Todo){\n    this.listService.delete(this.listID, todo);\n  }\n\n  update(todo: Todo){\n    this.listService.update(todo);\n  }\n\n  debug(){\n    // console.log(this.listService.getListTitle());\n  }\n\n  canAddTodo(){\n    return this.isOwner() || (this.isWriter);\n  }\n\n  isOwner(){\n    return this.authServ.getUserID() == this.listOwner;\n  }\n\n  async openContributorManager(){\n    const modal = await this.contributorManagerController.create({\n      component: ContributorManagerPage\n    });\n    return await modal.present();\n  }\n}\n"],"sourceRoot":""}